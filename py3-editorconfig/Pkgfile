# Description: EditorConfig File Locator and Interpreter
# URL:         https://github.com/editorconfig/editorconfig-core-py
# Depends on:  py3-setuptools

name=py3-editorconfig
version=0.17.1
release=1
source=$name-$version.tar.gz::https://github.com/editorconfig/editorconfig-core-py/archive/refs/tags/v$version.tar.gz

build() {
	export TMPDIR="$PKGMK_WORK_DIR"

	cd editorconfig-core-py-$version

	/usr/bin/python3 setup.py build
	/usr/bin/python3 setup.py install \
		--skip-build --root=$PKG --optimize=2

	# https://bugs.archlinux.org/task/55201
	mv $PKG/usr/bin/editorconfig $PKG/usr/bin/editorconfig3
}
