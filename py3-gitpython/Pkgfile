# Description: Interact with Git repositories
# URL:         https://github.com/gitpython-developers/gitpython
# Depends on:  git py3-gitdb

name=py3-gitpython
version=3.1.46
release=1
source=https://github.com/gitpython-developers/GitPython/archive/$version/GitPython-$version.tar.gz

build() {
	export TMPDIR="$PKGMK_WORK_DIR"

	cd GitPython-$version

	/usr/bin/python3 setup.py build
	/usr/bin/python3 setup.py install \
		--skip-build --prefix=/usr --root=$PKG

	/usr/bin/python3     -m compileall $PKG
	/usr/bin/python3 -O  -m compileall $PKG
	/usr/bin/python3 -OO -m compileall $PKG

	# Fix perms
	find $PKG/usr/lib/python*/site-packages/ -type f -exec chmod 0644 {} +
}
